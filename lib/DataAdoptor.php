<?php/** * SLIM_MVC_Framework * * @category  controllers * @package   SLIM_MVC_Framework * @copyright Copyright (c) 2014 (http://www.elamurugan.com/) * @author    Ela <nelamurugan@gmail.com> *//** * Class SLIM_MVC_Framework * * @category    controllers * @package     SLIM_MVC_Framework */abstract class DataAdoptor{    protected $dataSet = array();    public function convertToDataKey($str)    {        $exploded = explode("_", $str);        $exploded = array_map('ucfirst', $exploded);        $str = implode("", $exploded);        preg_match_all('/((?:^|[A-Z])[a-z]+)/', $str, $matches);        $matches = array_map('strtolower', $matches[0]);        return implode("_", $matches);;    }    // TODO    public function __call($methodName, $params = null)    {        $methodPrefix = substr($methodName, 0, 3);        $requestStr = substr($methodName, 3);        $key = $this->convertToDataKey($requestStr);        $value = false;        $return = null;        if (count($params) == 1) {            $value = $params[0];        }        if ($methodPrefix == 'set' && count($params) == 1) {            if (is_array($value) || is_object($value)) {                foreach ($value as $k => $v) {                    $this->dataSet[$k] = $v;                }            } else {                $this->dataSet[$key] = $value;            }        } elseif ($methodPrefix == 'get' && array_key_exists($key, $this->dataSet)) {            return $this->dataSet[$key];        }        return $return;    }    public function setData($var, $val, $variable = '')    {        debug($var);        if ($variable != '') {            $this->dataSet[$variable][$var] = $val;        } else {            $this->dataSet[$var] = $val;        }    }    public function getData($var, $variable = '')    {        if ($variable != '') {            return isset($this->dataSet [$variable][$var]) ? $this->dataSet[$variable][$var] : false;        } else {            return isset($this->dataSet [$var]) ? $this->dataSet[$var] : false;        }    }}