<?php 
class Model {    
    	var $conn		    = false;    var $select_db 		= false;    var $run_qry 	    = false;    var $num_rows 	    = false;    public function Model() {        $this->conn = @mysql_connect(_HOST, _USERNAME , _PASSWORD);        if (!$this->conn) {            return 'Not connected : ' . mysql_error();        }        $this->select_db = @mysql_select_db(_DBNAME, $this->conn);		if (!$this->select_db) {            return 'DB ' . _DBNAME . 'cannot be used' . mysql_error();        }		$qry = 'SET time_zone = "'._TIME_ZONE.'";';		$this->query($qry);        return $this->conn;    }		    public function query($qry) {        $this->run_qry = mysql_query($qry, $this->conn);        if (!$this->run_qry) {             return mysql_error();        }        return $this->run_qry;    }		public function insert($qry) {        $result = $this->query($qry);        if (!$result) {            return mysql_error();        }		$id = mysql_insert_id($this->conn);        return $id;    }    public function number_of_rows() {        if (!$this->num_rows = @mysql_num_rows($this->run_qry)) {            return mysql_error();        }        return $this->num_rows;    }    public function fetch_assoc($qry,$single_row = false) {        $result   = $this->query($qry);        $response = array();		if($result){			while ($row = mysql_fetch_assoc($result)) {				$response[] = $row;			}			if($single_row) $response = @$response[0];		}		else			return $result;        return $response;    }	public function fetch_values($qry,$single_row = false) {        $result   = $this->query($qry);        $response = array();		if($result){			while ($row = mysql_fetch_assoc($result)) {				$response[] = $row;			}			if($single_row) $response = @$response[0];		}        return $response;    }
}
