<?php 
class Template {    	public function Template() {         }	
    public function redirect($url) {        if(!isset($_REQUEST['is_ajax'])){            if (!headers_sent()) {                header("Location: " . _BASEURL . $url . "");                exit;            } else {                echo "<script language='javascript' type='text/javascript'>window.location.href='" . _BASEURL . $url . "'</script>";                echo "<META http-equiv='refresh' content='0;URL=" . _BASEURL . $url . "'>";                exit;            }        }    }		public function error404Action($_url_params) {    	$this->render_full("error_404");    }	// For normal response    public function render_full($view_file ,$params = array()) {        global $obj,$_url_params,$_statues,$_priority;            $area   = $_url_params['config']['area'];        $module = $_url_params['config']['module'];        $template_path = _BASEDIR."app/design/".$area; 		// d($template_path."/".$module."/".$view_file.".phtml",0,0); 				require_once($template_path."/header.phtml");        if (file_exists($template_path."/".$module."/".$view_file.".phtml"))		    require_once($template_path."/".$module."/".$view_file.".phtml");        else            require_once($template_path."/error_404.phtml");         require_once($template_path."/footer.phtml");    }        // For ajax response    public function render($view_file ,$params = array()) {        global $obj,$_url_params,$_statues,$_priority;            $area   = $_url_params['config']['area'];        $module = $_url_params['config']['module'];				$template_path = _BASEDIR."app/design/".$area; 		// d($template_path."/".$module."/".$view_file.".phtml",0,0); 		        if (file_exists($template_path."/".$module."/".$view_file.".phtml"))		    require_once($template_path."/".$module."/".$view_file.".phtml");        else            require_once($template_path."/error_404.phtml");     }
}
